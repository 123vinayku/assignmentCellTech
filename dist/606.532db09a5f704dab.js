"use strict";(self.webpackChunkassignment=self.webpackChunkassignment||[]).push([[606],{1606:(E,u,c)=>{c.r(u),c.d(u,{FormsModule:()=>R});var f=c(177),t=c(8699),d=c(7513);let _=(()=>{class o{static{this.\u0275fac=function(n){return new(n||o)}}static{this.\u0275cmp=t.VBU({type:o,selectors:[["app-forms"]],decls:1,vars:0,template:function(n,r){1&n&&t.nrm(0,"router-outlet")},dependencies:[d.n3]})}}return o})();function C(o,l,e,n,r,s,i){try{var a=o[s](i),m=a.value}catch(I){return void e(I)}a.done?l(m):Promise.resolve(m).then(n,r)}var p=c(3371),g=c(1619);let O=(()=>{class o{constructor(e){this.activeModal=e,this.message=""}onDismiss(){this.activeModal.dismiss("Cross click")}onConfirm(){this.activeModal.close("YES")}onClose(){this.activeModal.close("NO")}static{this.\u0275fac=function(n){return new(n||o)(t.rXU(g.Lw))}}static{this.\u0275cmp=t.VBU({type:o,selectors:[["app-confirmation"]],inputs:{message:"message"},decls:12,vars:1,consts:[[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"message"],[1,"modal-footer"],["type","button",1,"btn","btn-primary","confirmBtn",3,"click"],["type","button",1,"btn","btn-danger","confirmBtn",3,"click"]],template:function(n,r){1&n&&(t.j41(0,"div",0)(1,"h4",1),t.EFF(2,"Confirmation"),t.k0s(),t.j41(3,"button",2),t.bIt("click",function(){return r.onDismiss()}),t.k0s()(),t.j41(4,"div",3)(5,"p",4),t.EFF(6),t.k0s()(),t.j41(7,"div",5)(8,"button",6),t.bIt("click",function(){return r.onConfirm()}),t.EFF(9," Yes "),t.k0s(),t.j41(10,"button",7),t.bIt("click",function(){return r.onClose()}),t.EFF(11," No "),t.k0s()()),2&n&&(t.R7$(6),t.JRh(r.message))},styles:[".modal-title[_ngcontent-%COMP%], .message[_ngcontent-%COMP%], .confirmBtn[_ngcontent-%COMP%]{font-family:Inter,serif}"]})}}return o})();var h=c(4599);function M(o,l){if(1&o){const e=t.RV6();t.j41(0,"tr")(1,"th",8),t.EFF(2),t.k0s(),t.j41(3,"td"),t.EFF(4),t.k0s(),t.j41(5,"td"),t.EFF(6),t.k0s(),t.j41(7,"td")(8,"button",9),t.bIt("click",function(){const s=t.eBV(e).$implicit,i=t.XpG();return t.Njj(i.onDelete(s))}),t.nrm(9,"i",10),t.k0s(),t.j41(10,"button",11),t.bIt("click",function(){const s=t.eBV(e).$implicit,i=t.XpG();return t.Njj(i.onEdit(s))}),t.nrm(11,"i",12),t.k0s(),t.j41(12,"button",13),t.bIt("click",function(){const s=t.eBV(e).$implicit,i=t.XpG();return t.Njj(i.onOpen(s))}),t.nrm(13,"i",14),t.k0s(),t.j41(14,"button",15),t.bIt("click",function(){const s=t.eBV(e).$implicit,i=t.XpG();return t.Njj(i.onOpenResponses(s))}),t.nrm(15,"i",16),t.k0s()()()}if(2&o){const e=l.$implicit;t.R7$(2),t.JRh(e.id),t.R7$(2),t.SpI(" ",e.name," "),t.R7$(2),t.JRh(e.fields.length),t.R7$(6),t.Y8G("disabled",!e.fields.length)}}function F(o,l){1&o&&(t.j41(0,"tfoot")(1,"tr")(2,"td",17),t.EFF(3,"No Data Found."),t.k0s()()())}let k=(()=>{class o{constructor(e,n,r){this.modalService=e,this.router=n,this.storageService=r,this.forms=[]}ngOnInit(){this.getForms()}getForms(){this.forms=this.storageService.getData(p.uE.FORMS)}onDelete(e){var n=this;return function b(o){return function(){var l=this,e=arguments;return new Promise(function(n,r){var s=o.apply(l,e);function i(m){C(s,n,r,i,a,"next",m)}function a(m){C(s,n,r,i,a,"throw",m)}i(void 0)})}}(function*(){const r=n.modalService.open(O,{centered:!0,backdrop:!0});if(r.componentInstance.message="Do you want to delete this form ?","YES"===(yield r.result)){const i=n.forms.filter(a=>a.id!==e.id);n.storageService.setData(p.uE.FORMS,JSON.stringify(i)),n.getForms()}})()}onCreate(){this.router.navigate(["form-design"])}onEdit(e){this.router.navigate(["form-design/edit/",e.id])}onOpen(e){this.router.navigate(["form-design/form/",e.id])}onOpenResponses(e){this.router.navigate(["forms/responses/",e.id])}static{this.\u0275fac=function(n){return new(n||o)(t.rXU(g.Bq),t.rXU(d.Ix),t.rXU(h.n))}}static{this.\u0275cmp=t.VBU({type:o,selectors:[["app-list"]],decls:21,vars:2,consts:[[1,"container"],[1,"header","flex","flexRow","justifyContentBetween"],["title","Create",1,"btn","create",3,"click"],[1,"bi","bi-plus"],[1,"table","table-striped"],["scope","col"],[4,"ngFor","ngForOf"],[4,"ngIf"],["scope","row"],["title","Delete",1,"btn","delete",3,"click"],[1,"bi","bi-trash"],["title","Edit",1,"btn","edit",3,"click"],[1,"bi","bi-pencil-square"],["title","Open",1,"btn","link",3,"disabled","click"],[1,"bi","bi-box-arrow-up-right"],["title","Responses",1,"btn","responses",3,"click"],[1,"bi","bi-file-earmark-check"],["colspan","4",1,"textCenter"]],template:function(n,r){1&n&&(t.j41(0,"div",0)(1,"div",1)(2,"h4"),t.EFF(3,"Forms List"),t.k0s(),t.j41(4,"button",2),t.bIt("click",function(){return r.onCreate()}),t.nrm(5,"i",3),t.EFF(6," Create "),t.k0s()(),t.j41(7,"table",4)(8,"thead")(9,"tr")(10,"th",5),t.EFF(11,"ID"),t.k0s(),t.j41(12,"th",5),t.EFF(13,"Form Name"),t.k0s(),t.j41(14,"th",5),t.EFF(15,"Field Count"),t.k0s(),t.j41(16,"th",5),t.EFF(17,"Action"),t.k0s()()(),t.j41(18,"tbody"),t.DNE(19,M,16,4,"tr",6),t.k0s(),t.DNE(20,F,4,0,"tfoot",7),t.k0s()()),2&n&&(t.R7$(19),t.Y8G("ngForOf",r.forms),t.R7$(1),t.Y8G("ngIf",!(null!=r.forms&&r.forms.length)))},dependencies:[f.Sq,f.bT],styles:[".flex[_ngcontent-%COMP%]{display:flex}.flexRow[_ngcontent-%COMP%]{flex-direction:row}.flexColumn[_ngcontent-%COMP%]{flex-direction:column}.alignItemCenter[_ngcontent-%COMP%]{align-items:center}.justifyContentCenter[_ngcontent-%COMP%]{justify-content:center}.alignSelfCenter[_ngcontent-%COMP%]{align-self:center}.justifyContentBetween[_ngcontent-%COMP%]{justify-content:space-between}.flexWrap[_ngcontent-%COMP%]{flex-wrap:wrap}.header[_ngcontent-%COMP%]{margin:10px 0;padding-bottom:10px;border-bottom:1px solid #dedede}.header[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-family:Inter,serif}.btn[_ngcontent-%COMP%]{padding:5px 8px;border-radius:4px;border-width:1px;border-style:solid;transition:all .1s linear;font-size:14px;font-family:Inter,serif}.btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{transition:all .1s linear}.create[_ngcontent-%COMP%]{border-color:#e63900;color:#e63900}.create[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:16px;color:#e63900}.create[_ngcontent-%COMP%]:hover{background-color:#e63900;color:#fff}.create[_ngcontent-%COMP%]:hover   i[_ngcontent-%COMP%]{color:#fff}.edit[_ngcontent-%COMP%]{margin-left:5px;border-color:#1a1aff}.edit[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#1a1aff}.edit[_ngcontent-%COMP%]:hover{background-color:#1a1aff}.edit[_ngcontent-%COMP%]:hover   i[_ngcontent-%COMP%]{color:#fff}.delete[_ngcontent-%COMP%]{border-color:#ff1a1a}.delete[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#ff1a1a}.delete[_ngcontent-%COMP%]:hover{background-color:#ff1a1a}.delete[_ngcontent-%COMP%]:hover   i[_ngcontent-%COMP%]{color:#fff}.link[_ngcontent-%COMP%]{margin-left:5px;border-color:#e63900}.link[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#e63900}.link[_ngcontent-%COMP%]:hover{background-color:#e63900}.link[_ngcontent-%COMP%]:hover   i[_ngcontent-%COMP%]{color:#fff}.responses[_ngcontent-%COMP%]{margin-left:5px;border-color:#ffc107}.responses[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#ffc107}.responses[_ngcontent-%COMP%]:hover{background-color:#ffc107}.responses[_ngcontent-%COMP%]:hover   i[_ngcontent-%COMP%]{color:#fff}"]})}}return o})();var P=c(3887),v=c(7048);function x(o,l){if(1&o){const e=t.RV6();t.j41(0,"tr")(1,"th",6),t.EFF(2),t.k0s(),t.j41(3,"td"),t.EFF(4),t.k0s(),t.j41(5,"td"),t.EFF(6),t.nI1(7,"date"),t.k0s(),t.j41(8,"td")(9,"button",7),t.bIt("click",function(){const s=t.eBV(e).$implicit,i=t.XpG();return t.Njj(i.onView(s))}),t.nrm(10,"i",8),t.k0s()()()}if(2&o){const e=l.$implicit,n=t.XpG();t.R7$(2),t.JRh(e.id),t.R7$(2),t.SpI(" ",n.formDetails.name," "),t.R7$(2),t.JRh(t.i5U(7,3,e.submittedAt,"MMM d, y, hh:mm a"))}}function j(o,l){1&o&&(t.j41(0,"tfoot")(1,"tr")(2,"td",9),t.EFF(3,"No Data Found."),t.k0s()()())}const y=[{path:"",component:_,children:[{path:"",component:k},{path:"responses/:formId",component:(()=>{class o{constructor(e,n,r){this.router=e,this.storageService=n,this.activateRoute=r,this.responses=[],this.alive=!0}ngOnInit(){this.activateRoute.params.pipe((0,v.v)(e=>this.alive)).subscribe(e=>{this.formId=Number(e.formId??0)}),this.getFormDetails(),this.getResponses()}getFormDetails(){if(this.formId){const e=this.storageService.getData(p.uE.FORMS);this.formDetails=e.find(n=>n.id===this.formId)??null}}getResponses(){const e=this.storageService.getData(p.uE.RESPONSES);this.responses=e.filter(n=>n.formId===this.formId)}onView(e){this.router.navigate(["form-design/form/view/",e.formId,e.id])}ngOnDestroy(){this.alive=!1}static{this.\u0275fac=function(n){return new(n||o)(t.rXU(d.Ix),t.rXU(h.n),t.rXU(d.nX))}}static{this.\u0275cmp=t.VBU({type:o,selectors:[["app-response-list"]],decls:18,vars:3,consts:[[1,"container"],[1,"header","flex","flexRow","justifyContentBetween"],[1,"table","table-striped"],["scope","col"],[4,"ngFor","ngForOf"],[4,"ngIf"],["scope","row"],["title","View",1,"btn","view",3,"click"],[1,"bi","bi-eye"],["colspan","4",1,"textCenter"]],template:function(n,r){1&n&&(t.j41(0,"div",0)(1,"div",1)(2,"h4"),t.EFF(3),t.k0s()(),t.j41(4,"table",2)(5,"thead")(6,"tr")(7,"th",3),t.EFF(8,"ID"),t.k0s(),t.j41(9,"th",3),t.EFF(10,"Form Name"),t.k0s(),t.j41(11,"th",3),t.EFF(12,"Submitted At"),t.k0s(),t.j41(13,"th",3),t.EFF(14,"Action"),t.k0s()()(),t.j41(15,"tbody"),t.DNE(16,x,11,6,"tr",4),t.k0s(),t.DNE(17,j,4,0,"tfoot",5),t.k0s()()),2&n&&(t.R7$(3),t.SpI("",r.formDetails.name," Response List"),t.R7$(13),t.Y8G("ngForOf",r.responses),t.R7$(1),t.Y8G("ngIf",!(null!=r.responses&&r.responses.length)))},dependencies:[f.Sq,f.bT,f.vh],styles:[".flex[_ngcontent-%COMP%]{display:flex}.flexRow[_ngcontent-%COMP%]{flex-direction:row}.flexColumn[_ngcontent-%COMP%]{flex-direction:column}.alignItemCenter[_ngcontent-%COMP%]{align-items:center}.justifyContentCenter[_ngcontent-%COMP%]{justify-content:center}.alignSelfCenter[_ngcontent-%COMP%]{align-self:center}.justifyContentBetween[_ngcontent-%COMP%]{justify-content:space-between}.flexWrap[_ngcontent-%COMP%]{flex-wrap:wrap}.header[_ngcontent-%COMP%]{margin:10px 0;padding-bottom:10px;border-bottom:1px solid #dedede}.header[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-family:Inter,serif}.btn[_ngcontent-%COMP%]{padding:5px 8px;border-radius:4px;border-width:1px;border-style:solid;transition:all .1s linear;font-size:14px;font-family:Inter,serif}.btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{transition:all .1s linear}.view[_ngcontent-%COMP%]{margin-left:5px;border-color:#1a1aff}.view[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#1a1aff}.view[_ngcontent-%COMP%]:hover{background-color:#1a1aff}.view[_ngcontent-%COMP%]:hover   i[_ngcontent-%COMP%]{color:#fff}"]})}}return o})()}]}];let R=(()=>{class o{static{this.\u0275fac=function(n){return new(n||o)}}static{this.\u0275mod=t.$C({type:o})}static{this.\u0275inj=t.G2t({imports:[f.MD,d.iI.forChild(y),g.c9,P.G]})}}return o})()}}]);