"use strict";(self.webpackChunkassignment=self.webpackChunkassignment||[]).push([[809],{809:(Te,h,a)=>{a.r(h),a.d(h,{FormDesignModule:()=>je});var c=a(177),s=a(4341),d=a(3371);const O=[{label:"Text",value:d.D4.TEXT},{label:"Radio",value:d.D4.RADIO},{label:"Checkbox",value:d.D4.CHECKBOX}],p=[{label:"Yes",value:d.Jq.YES},{label:"No",value:d.Jq.NO}];var x=a(7048),e=a(8699),b=a(4599),m=a(7513);function F(t,l){1&t&&(e.j41(0,"div"),e.EFF(1," This field is required. "),e.k0s())}function E(t,l){if(1&t&&(e.j41(0,"div",16),e.DNE(1,F,2,0,"div",17),e.k0s()),2&t){const n=e.XpG(2);e.R7$(1),e.Y8G("ngIf",null==n.field.controls.label.errors?null:n.field.controls.label.errors.required)}}function M(t,l){if(1&t&&(e.j41(0,"option",18),e.EFF(1),e.k0s()),2&t){const n=l.$implicit;e.FS9("value",n.value),e.R7$(1),e.SpI(" ",n.label," ")}}function R(t,l){1&t&&(e.j41(0,"div"),e.EFF(1," This field is required. "),e.k0s())}function P(t,l){if(1&t&&(e.j41(0,"div",16),e.DNE(1,R,2,0,"div",17),e.k0s()),2&t){const n=e.XpG(2);e.R7$(1),e.Y8G("ngIf",null==n.field.controls.isRequired.errors?null:n.field.controls.isRequired.errors.required)}}function k(t,l){if(1&t){const n=e.RV6();e.qex(0),e.j41(1,"div",2)(2,"div",3),e.nrm(3,"div"),e.j41(4,"div",4)(5,"button",5),e.bIt("click",function(){e.eBV(n);const i=e.XpG();return e.Njj(i.onDelete.emit(i.editIndex))}),e.nrm(6,"i",6),e.k0s()()(),e.j41(7,"div",7)(8,"div",8)(9,"label"),e.EFF(10,"Label"),e.k0s(),e.nrm(11,"input",9),e.DNE(12,E,2,1,"div",10),e.k0s(),e.j41(13,"div",11)(14,"label"),e.EFF(15,"Is Field Required?"),e.k0s(),e.j41(16,"select",12)(17,"option",13),e.EFF(18,"Select Field Required"),e.k0s(),e.DNE(19,M,2,2,"option",14),e.k0s(),e.DNE(20,P,2,1,"div",10),e.k0s(),e.j41(21,"div",8)(22,"label"),e.EFF(23,"Placeholder"),e.k0s(),e.nrm(24,"input",15),e.k0s()()(),e.bVm()}if(2&t){const n=e.XpG();e.R7$(1),e.Y8G("formGroup",n.field),e.R7$(11),e.Y8G("ngIf",n.field.controls.label.invalid&&(n.field.controls.label.dirty||n.field.controls.label.touched)),e.R7$(7),e.Y8G("ngForOf",n.formFieldRequired),e.R7$(1),e.Y8G("ngIf",n.field.controls.isRequired.invalid&&(n.field.controls.isRequired.dirty||n.field.controls.isRequired.touched))}}function I(t,l){1&t&&(e.qex(0),e.EFF(1,"*"),e.bVm())}function D(t,l){1&t&&(e.j41(0,"div"),e.EFF(1,"This field is required."),e.k0s())}function G(t,l){if(1&t&&(e.j41(0,"div",16),e.DNE(1,D,2,0,"div",17),e.k0s()),2&t){const n=e.XpG(2);e.R7$(1),e.Y8G("ngIf",null==n.control||null==n.control.errors?null:n.control.errors.required)}}function y(t,l){if(1&t&&(e.j41(0,"div",19)(1,"div",20)(2,"label"),e.EFF(3),e.DNE(4,I,2,0,"ng-container",17),e.k0s(),e.nrm(5,"input",21),e.DNE(6,G,2,1,"div",10),e.k0s()()),2&t){const n=e.XpG();e.R7$(3),e.SpI(" ",n.field.label," "),e.R7$(1),e.Y8G("ngIf",n.field.isRequired===n.formFieldRequiredEnum.YES),e.R7$(1),e.FS9("placeholder",n.field.placeholder),e.Y8G("formControl",n.control),e.R7$(1),e.Y8G("ngIf",(null==n.control?null:n.control.invalid)&&((null==n.control?null:n.control.dirty)||(null==n.control?null:n.control.touched)))}}let u=(()=>{class t{constructor(){this.onDelete=new e.bkB,this.formFieldRequired=p,this.formsModeEnum=d.GJ,this.formFieldRequiredEnum=d.Jq}ngOnInit(){}ngOnChanges(n){this.disableInput()}disableInput(){(this.mode===this.formsModeEnum.PREVIEW||this.mode===this.formsModeEnum.VIEW)&&this.control&&this.control.disable()}static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275cmp=e.VBU({type:t,selectors:[["app-text-input"]],inputs:{mode:"mode",field:"field",editIndex:"editIndex",control:"control"},outputs:{onDelete:"onDelete"},features:[e.OA$],decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["nonEdit",""],[1,"edit",3,"formGroup"],[1,"header","flex","flexRow","justifyContentBetween"],[1,"deleteCt"],["title","Delete","type","button",1,"btn","delete",3,"click"],[1,"bi","bi-trash"],[1,"flex","flexRow","flexWrap"],[1,"control"],["placeholder","Enter Label","formControlName","label",1,"form-control"],["class","error",4,"ngIf"],[1,"control","ml-10"],["formControlName","isRequired",1,"form-control"],["value","","selected",""],[3,"value",4,"ngFor","ngForOf"],["placeholder","Enter Placeholder","formControlName","placeholder",1,"form-control"],[1,"error"],[4,"ngIf"],[3,"value"],[1,"nonEdit"],[1,""],[1,"form-control",3,"formControl","placeholder"]],template:function(o,i){if(1&o&&(e.DNE(0,k,25,4,"ng-container",0),e.DNE(1,y,7,5,"ng-template",null,1,e.C5r)),2&o){const r=e.sdS(2);e.Y8G("ngIf",i.mode===i.formsModeEnum.EDIT)("ngIfElse",r)}},dependencies:[c.Sq,c.bT,s.xH,s.y7,s.me,s.wz,s.BC,s.cb,s.l_,s.j4,s.JD],styles:[".flex[_ngcontent-%COMP%]{display:flex}.flexRow[_ngcontent-%COMP%]{flex-direction:row}.flexColumn[_ngcontent-%COMP%]{flex-direction:column}.alignItemCenter[_ngcontent-%COMP%]{align-items:center}.justifyContentCenter[_ngcontent-%COMP%]{justify-content:center}.alignSelfCenter[_ngcontent-%COMP%]{align-self:center}.justifyContentBetween[_ngcontent-%COMP%]{justify-content:space-between}.flexWrap[_ngcontent-%COMP%]{flex-wrap:wrap}.edit[_ngcontent-%COMP%]{padding:10px;border:1px dotted #dedede;border-radius:4;margin-bottom:10px}.edit[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{padding-bottom:10px;border-bottom:1px solid #dedede}.edit[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:14px;font-weight:600;margin-bottom:3px}.edit[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{font-size:14px}.edit[_ngcontent-%COMP%]   .control[_ngcontent-%COMP%]{flex:0 1 48%}.edit[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{padding:5px 8px;border-radius:4px;border-width:1px;border-style:solid;transition:all .1s linear;font-size:14px;font-family:Inter,serif}.edit[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{transition:all .1s linear}.edit[_ngcontent-%COMP%]   .delete[_ngcontent-%COMP%]{border-color:#ff1a1a}.edit[_ngcontent-%COMP%]   .delete[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#ff1a1a}.edit[_ngcontent-%COMP%]   .delete[_ngcontent-%COMP%]:hover{background-color:#ff1a1a}.edit[_ngcontent-%COMP%]   .delete[_ngcontent-%COMP%]:hover   i[_ngcontent-%COMP%]{color:#fff}.nonEdit[_ngcontent-%COMP%]{width:100%;margin-bottom:10px}.nonEdit[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:14px;font-weight:600;margin-bottom:3px}.nonEdit[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{font-size:14px}.error[_ngcontent-%COMP%]{font-family:Inter,serif;font-size:12px;color:#ff1a1a;margin:4px 0}"]})}}return t})();function j(t,l){1&t&&(e.j41(0,"div"),e.EFF(1," This field is required. "),e.k0s())}function T(t,l){if(1&t&&(e.j41(0,"div",22),e.DNE(1,j,2,0,"div",23),e.k0s()),2&t){const n=e.XpG(2);e.R7$(1),e.Y8G("ngIf",null==n.field.controls.label.errors?null:n.field.controls.label.errors.required)}}function w(t,l){if(1&t&&(e.j41(0,"option",24),e.EFF(1),e.k0s()),2&t){const n=l.$implicit;e.FS9("value",n.value),e.R7$(1),e.SpI(" ",n.label," ")}}function q(t,l){1&t&&(e.j41(0,"div"),e.EFF(1," This field is required. "),e.k0s())}function $(t,l){if(1&t&&(e.j41(0,"div",22),e.DNE(1,q,2,0,"div",23),e.k0s()),2&t){const n=e.XpG(2);e.R7$(1),e.Y8G("ngIf",null==n.field.controls.isRequired.errors?null:n.field.controls.isRequired.errors.required)}}function N(t,l){1&t&&(e.j41(0,"div"),e.EFF(1," This field is required. "),e.k0s())}function S(t,l){if(1&t&&(e.j41(0,"div",22),e.DNE(1,N,2,0,"div",23),e.k0s()),2&t){const n=e.XpG().$implicit;let o;e.R7$(1),e.Y8G("ngIf",null==(o=n.get("label"))||null==o.errors?null:o.errors.required)}}function Y(t,l){1&t&&(e.j41(0,"div"),e.EFF(1," This field is required. "),e.k0s())}function X(t,l){if(1&t&&(e.j41(0,"div",22),e.DNE(1,Y,2,0,"div",23),e.k0s()),2&t){const n=e.XpG().$implicit;let o;e.R7$(1),e.Y8G("ngIf",null==(o=n.get("value"))||null==o.errors?null:o.errors.required)}}function V(t,l){if(1&t){const n=e.RV6();e.qex(0),e.j41(1,"div",25)(2,"div",26)(3,"label"),e.EFF(4,"Label"),e.k0s(),e.nrm(5,"input",9),e.DNE(6,S,2,1,"div",10),e.k0s(),e.j41(7,"div",27)(8,"label"),e.EFF(9,"Value"),e.k0s(),e.nrm(10,"input",28),e.DNE(11,X,2,1,"div",10),e.k0s(),e.j41(12,"div",29)(13,"label",30),e.EFF(14,"Delete"),e.k0s(),e.j41(15,"button",5),e.bIt("click",function(){const r=e.eBV(n).index,f=e.XpG(2);return e.Njj(f.onOptionDelete(r))}),e.nrm(16,"i",6),e.k0s()()(),e.bVm()}if(2&t){const n=l.$implicit,o=l.index;let i,r;e.R7$(1),e.Y8G("formGroupName",o),e.R7$(5),e.Y8G("ngIf",(null==(i=n.get("label"))?null:i.invalid)&&((null==(i=n.get("label"))?null:i.dirty)||(null==(i=n.get("label"))?null:i.touched))),e.R7$(5),e.Y8G("ngIf",(null==(r=n.get("value"))?null:r.invalid)&&((null==(r=n.get("value"))?null:r.dirty)||(null==(r=n.get("value"))?null:r.touched)))}}function B(t,l){if(1&t){const n=e.RV6();e.qex(0),e.j41(1,"div",2)(2,"div",3),e.nrm(3,"div"),e.j41(4,"div",4)(5,"button",5),e.bIt("click",function(){e.eBV(n);const i=e.XpG();return e.Njj(i.onDelete.emit(i.editIndex))}),e.nrm(6,"i",6),e.k0s()()(),e.j41(7,"div",7)(8,"div",8)(9,"label"),e.EFF(10,"Label"),e.k0s(),e.nrm(11,"input",9),e.DNE(12,T,2,1,"div",10),e.k0s(),e.j41(13,"div",11)(14,"label"),e.EFF(15,"Is Field Required?"),e.k0s(),e.j41(16,"select",12)(17,"option",13),e.EFF(18,"Select Field Required"),e.k0s(),e.DNE(19,w,2,2,"option",14),e.k0s(),e.DNE(20,$,2,1,"div",10),e.k0s(),e.j41(21,"div",15)(22,"div",16)(23,"label"),e.EFF(24,"Add Options"),e.k0s(),e.j41(25,"button",17),e.bIt("click",function(){e.eBV(n);const i=e.XpG();return e.Njj(i.onAddOption())}),e.nrm(26,"i",18),e.k0s()(),e.j41(27,"div",19),e.qex(28,20),e.DNE(29,V,17,3,"ng-container",21),e.bVm(),e.k0s()()()(),e.bVm()}if(2&t){const n=e.XpG();e.R7$(1),e.Y8G("formGroup",n.field),e.R7$(11),e.Y8G("ngIf",n.field.controls.label.invalid&&(n.field.controls.label.dirty||n.field.controls.label.touched)),e.R7$(7),e.Y8G("ngForOf",n.formFieldRequired),e.R7$(1),e.Y8G("ngIf",n.field.controls.isRequired.invalid&&(n.field.controls.isRequired.dirty||n.field.controls.isRequired.touched)),e.R7$(9),e.Y8G("ngForOf",n.options.controls)}}function A(t,l){1&t&&(e.qex(0),e.EFF(1,"*"),e.bVm())}function z(t,l){if(1&t&&(e.qex(0),e.j41(1,"label",33),e.nrm(2,"input",34),e.j41(3,"span",35),e.EFF(4),e.k0s()(),e.bVm()),2&t){const n=l.$implicit,o=e.XpG(2);e.R7$(2),e.Y8G("value",n.value)("formControl",o.control),e.R7$(2),e.JRh(n.label)}}function J(t,l){1&t&&(e.j41(0,"div"),e.EFF(1,"This field is required."),e.k0s())}function U(t,l){if(1&t&&(e.j41(0,"div",22),e.DNE(1,J,2,0,"div",23),e.k0s()),2&t){const n=e.XpG(2);e.R7$(1),e.Y8G("ngIf",null==n.control||null==n.control.errors?null:n.control.errors.required)}}function W(t,l){if(1&t&&(e.j41(0,"div",31)(1,"div",32)(2,"label"),e.EFF(3),e.DNE(4,A,2,0,"ng-container",23),e.k0s(),e.j41(5,"div",19),e.DNE(6,z,5,3,"ng-container",21),e.k0s(),e.DNE(7,U,2,1,"div",10),e.k0s()()),2&t){const n=e.XpG();e.R7$(3),e.SpI(" ",n.field.label," "),e.R7$(1),e.Y8G("ngIf",n.field.isRequired===n.formFieldRequiredEnum.YES),e.R7$(2),e.Y8G("ngForOf",n.field.options),e.R7$(1),e.Y8G("ngIf",(null==n.control?null:n.control.invalid)&&((null==n.control?null:n.control.dirty)||(null==n.control?null:n.control.touched)))}}let g=(()=>{class t{get options(){return this.field.get("options")}constructor(n){this.formBuilder=n,this.onDelete=new e.bkB,this.formFieldRequired=p,this.formsModeEnum=d.GJ,this.formFieldRequiredEnum=d.Jq}ngOnInit(){}ngOnChanges(n){this.disableInput()}disableInput(){(this.mode===this.formsModeEnum.PREVIEW||this.mode===this.formsModeEnum.VIEW)&&this.control&&this.control.disable()}onAddOption(){this.options.push(this.formBuilder.group({label:["",s.k0.required],value:["",s.k0.required]}))}onOptionDelete(n){this.options.removeAt(n)}static{this.\u0275fac=function(o){return new(o||t)(e.rXU(s.ok))}}static{this.\u0275cmp=e.VBU({type:t,selectors:[["app-radio"]],inputs:{mode:"mode",field:"field",editIndex:"editIndex",control:"control"},outputs:{onDelete:"onDelete"},features:[e.OA$],decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["nonEdit",""],[1,"edit",3,"formGroup"],[1,"header","flex","flexRow","justifyContentBetween"],[1,"deleteCt"],["title","Delete","type","button",1,"btn","delete",3,"click"],[1,"bi","bi-trash"],[1,"flex","flexRow","flexWrap"],[1,"control"],["placeholder","Enter Label","formControlName","label",1,"form-control"],["class","error",4,"ngIf"],[1,"control","ml-10"],["formControlName","isRequired",1,"form-control"],["value","","selected",""],[3,"value",4,"ngFor","ngForOf"],[1,"full-control","mt-10"],[1,"flex","flexRow","justifyContentBetween","alignItemCenter","optHeading"],["type","button",1,"btn","btn-outline-primary",3,"click"],[1,"bi","bi-plus"],[1,"options"],["formArrayName","options"],[4,"ngFor","ngForOf"],[1,"error"],[4,"ngIf"],[3,"value"],[1,"flex","flexRow",3,"formGroupName"],[1,"controlOption"],[1,"controlOption","ml-10"],["placeholder","Enter Value","formControlName","value",1,"form-control"],[1,"deleteOptionCt","ml-10"],[2,"visibility","hidden"],[1,"nonEdit"],[1,""],[1,"flex","flexRow","alignItemCenter"],["type","radio",3,"value","formControl"],[1,"ml-10"]],template:function(o,i){if(1&o&&(e.DNE(0,B,30,5,"ng-container",0),e.DNE(1,W,8,4,"ng-template",null,1,e.C5r)),2&o){const r=e.sdS(2);e.Y8G("ngIf",i.mode===i.formsModeEnum.EDIT)("ngIfElse",r)}},dependencies:[c.Sq,c.bT,s.xH,s.y7,s.me,s.wz,s.Fm,s.BC,s.cb,s.l_,s.j4,s.JD,s.$R,s.v8],styles:[".flex[_ngcontent-%COMP%]{display:flex}.flexRow[_ngcontent-%COMP%]{flex-direction:row}.flexColumn[_ngcontent-%COMP%]{flex-direction:column}.alignItemCenter[_ngcontent-%COMP%]{align-items:center}.justifyContentCenter[_ngcontent-%COMP%]{justify-content:center}.alignSelfCenter[_ngcontent-%COMP%]{align-self:center}.justifyContentBetween[_ngcontent-%COMP%]{justify-content:space-between}.flexWrap[_ngcontent-%COMP%]{flex-wrap:wrap}.edit[_ngcontent-%COMP%]{padding:10px;border:1px dotted #dedede;border-radius:4;margin-bottom:10px}.edit[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{padding-bottom:10px;border-bottom:1px solid #dedede}.edit[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:14px;font-weight:600;margin-bottom:3px}.edit[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{font-size:14px}.edit[_ngcontent-%COMP%]   .control[_ngcontent-%COMP%]{flex:0 1 48%}.edit[_ngcontent-%COMP%]   .full-control[_ngcontent-%COMP%]{flex:0 1 100%}.edit[_ngcontent-%COMP%]   .optHeading[_ngcontent-%COMP%]{padding-bottom:5px;border-bottom:1px solid #dedede}.edit[_ngcontent-%COMP%]   .controlOption[_ngcontent-%COMP%]{flex:0 1 35%}.edit[_ngcontent-%COMP%]   .deleteOptionCt[_ngcontent-%COMP%]{flex:0 1 20%}.edit[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{padding:5px 8px;border-radius:4px;border-width:1px;border-style:solid;transition:all .1s linear;font-size:14px;font-family:Inter,serif}.edit[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{transition:all .1s linear}.edit[_ngcontent-%COMP%]   .delete[_ngcontent-%COMP%]{border-color:#ff1a1a}.edit[_ngcontent-%COMP%]   .delete[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#ff1a1a}.edit[_ngcontent-%COMP%]   .delete[_ngcontent-%COMP%]:hover{background-color:#ff1a1a}.edit[_ngcontent-%COMP%]   .delete[_ngcontent-%COMP%]:hover   i[_ngcontent-%COMP%]{color:#fff}.nonEdit[_ngcontent-%COMP%]{width:100%;margin-bottom:10px}.nonEdit[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:14px;font-weight:600;margin-bottom:3px}.nonEdit[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{font-size:14px}.nonEdit[_ngcontent-%COMP%]   .options[_ngcontent-%COMP%]{padding-left:15px}.error[_ngcontent-%COMP%]{font-family:Inter,serif;font-size:12px;color:#ff1a1a;margin:4px 0}"]})}}return t})();function H(t,l){1&t&&(e.j41(0,"div"),e.EFF(1," This field is required. "),e.k0s())}function L(t,l){if(1&t&&(e.j41(0,"div",22),e.DNE(1,H,2,0,"div",23),e.k0s()),2&t){const n=e.XpG(2);e.R7$(1),e.Y8G("ngIf",null==n.field.controls.label.errors?null:n.field.controls.label.errors.required)}}function K(t,l){if(1&t&&(e.j41(0,"option",24),e.EFF(1),e.k0s()),2&t){const n=l.$implicit;e.FS9("value",n.value),e.R7$(1),e.SpI(" ",n.label," ")}}function Q(t,l){1&t&&(e.j41(0,"div"),e.EFF(1," This field is required. "),e.k0s())}function Z(t,l){if(1&t&&(e.j41(0,"div",22),e.DNE(1,Q,2,0,"div",23),e.k0s()),2&t){const n=e.XpG(2);e.R7$(1),e.Y8G("ngIf",null==n.field.controls.isRequired.errors?null:n.field.controls.isRequired.errors.required)}}function ee(t,l){1&t&&(e.j41(0,"div"),e.EFF(1," This field is required. "),e.k0s())}function ne(t,l){if(1&t&&(e.j41(0,"div",22),e.DNE(1,ee,2,0,"div",23),e.k0s()),2&t){const n=e.XpG().$implicit;let o;e.R7$(1),e.Y8G("ngIf",null==(o=n.get("label"))||null==o.errors?null:o.errors.required)}}function te(t,l){1&t&&(e.j41(0,"div"),e.EFF(1," This field is required. "),e.k0s())}function oe(t,l){if(1&t&&(e.j41(0,"div",22),e.DNE(1,te,2,0,"div",23),e.k0s()),2&t){const n=e.XpG().$implicit;let o;e.R7$(1),e.Y8G("ngIf",null==(o=n.get("value"))||null==o.errors?null:o.errors.required)}}function ie(t,l){if(1&t){const n=e.RV6();e.qex(0),e.j41(1,"div",25)(2,"div",26)(3,"label"),e.EFF(4,"Label"),e.k0s(),e.nrm(5,"input",9),e.DNE(6,ne,2,1,"div",10),e.k0s(),e.j41(7,"div",27)(8,"label"),e.EFF(9,"Value"),e.k0s(),e.nrm(10,"input",28),e.DNE(11,oe,2,1,"div",10),e.k0s(),e.j41(12,"div",29)(13,"label",30),e.EFF(14,"Delete"),e.k0s(),e.j41(15,"button",5),e.bIt("click",function(){const r=e.eBV(n).index,f=e.XpG(2);return e.Njj(f.onOptionDelete(r))}),e.nrm(16,"i",6),e.k0s()()(),e.bVm()}if(2&t){const n=l.$implicit,o=l.index;let i,r;e.R7$(1),e.Y8G("formGroupName",o),e.R7$(5),e.Y8G("ngIf",(null==(i=n.get("label"))?null:i.invalid)&&((null==(i=n.get("label"))?null:i.dirty)||(null==(i=n.get("label"))?null:i.touched))),e.R7$(5),e.Y8G("ngIf",(null==(r=n.get("value"))?null:r.invalid)&&((null==(r=n.get("value"))?null:r.dirty)||(null==(r=n.get("value"))?null:r.touched)))}}function re(t,l){if(1&t){const n=e.RV6();e.qex(0),e.j41(1,"div",2)(2,"div",3),e.nrm(3,"div"),e.j41(4,"div",4)(5,"button",5),e.bIt("click",function(){e.eBV(n);const i=e.XpG();return e.Njj(i.onDelete.emit(i.editIndex))}),e.nrm(6,"i",6),e.k0s()()(),e.j41(7,"div",7)(8,"div",8)(9,"label"),e.EFF(10,"Label"),e.k0s(),e.nrm(11,"input",9),e.DNE(12,L,2,1,"div",10),e.k0s(),e.j41(13,"div",11)(14,"label"),e.EFF(15,"Is Field Required?"),e.k0s(),e.j41(16,"select",12)(17,"option",13),e.EFF(18,"Select Field Required"),e.k0s(),e.DNE(19,K,2,2,"option",14),e.k0s(),e.DNE(20,Z,2,1,"div",10),e.k0s(),e.j41(21,"div",15)(22,"div",16)(23,"label"),e.EFF(24,"Add Options"),e.k0s(),e.j41(25,"button",17),e.bIt("click",function(){e.eBV(n);const i=e.XpG();return e.Njj(i.onAddOption())}),e.nrm(26,"i",18),e.k0s()(),e.j41(27,"div",19),e.qex(28,20),e.DNE(29,ie,17,3,"ng-container",21),e.bVm(),e.k0s()()()(),e.bVm()}if(2&t){const n=e.XpG();e.R7$(1),e.Y8G("formGroup",n.field),e.R7$(11),e.Y8G("ngIf",n.field.controls.label.invalid&&(n.field.controls.label.dirty||n.field.controls.label.touched)),e.R7$(7),e.Y8G("ngForOf",n.formFieldRequired),e.R7$(1),e.Y8G("ngIf",n.field.controls.isRequired.invalid&&(n.field.controls.isRequired.dirty||n.field.controls.isRequired.touched)),e.R7$(9),e.Y8G("ngForOf",n.options.controls)}}function le(t,l){1&t&&(e.qex(0),e.EFF(1,"*"),e.bVm())}function se(t,l){if(1&t){const n=e.RV6();e.qex(0),e.j41(1,"label",33)(2,"input",34),e.bIt("change",function(i){const f=e.eBV(n).index,_=e.XpG(2);return e.Njj(_.onCheckboxChange(i,f))}),e.k0s(),e.j41(3,"span",35),e.EFF(4),e.k0s()(),e.bVm()}if(2&t){const n=l.$implicit,o=e.XpG(2);e.R7$(2),e.Y8G("checked",n.get("checked").value)("disabled",o.mode===o.formsModeEnum.PREVIEW||o.mode===o.formsModeEnum.VIEW),e.R7$(2),e.JRh(n.get("label").value)}}function de(t,l){1&t&&(e.j41(0,"div"),e.EFF(1,"This field is required."),e.k0s())}function ce(t,l){if(1&t&&(e.j41(0,"div",22),e.DNE(1,de,2,0,"div",23),e.k0s()),2&t){const n=e.XpG(2);e.R7$(1),e.Y8G("ngIf",null==n.control||null==n.control.errors?null:n.control.errors.required)}}function ae(t,l){if(1&t&&(e.j41(0,"div",31)(1,"div",32)(2,"label"),e.EFF(3),e.DNE(4,le,2,0,"ng-container",23),e.k0s(),e.j41(5,"div",19),e.DNE(6,se,5,3,"ng-container",21),e.k0s(),e.DNE(7,ce,2,1,"div",10),e.k0s()()),2&t){const n=e.XpG();e.R7$(3),e.SpI(" ",n.field.label," "),e.R7$(1),e.Y8G("ngIf",n.field.isRequired===n.formFieldRequiredEnum.YES),e.R7$(2),e.Y8G("ngForOf",n.control.controls),e.R7$(1),e.Y8G("ngIf",(null==n.control?null:n.control.invalid)&&((null==n.control?null:n.control.dirty)||(null==n.control?null:n.control.touched)))}}let C=(()=>{class t{get options(){return this.field.get("options")}constructor(n){this.formBuilder=n,this.onDelete=new e.bkB,this.formFieldRequired=p,this.formsModeEnum=d.GJ,this.formFieldRequiredEnum=d.Jq}ngOnInit(){this.initializeOptions()}ngOnChanges(n){this.disableInput()}initializeOptions(){this.control&&this.mode!==this.formsModeEnum.VIEW&&this.field.options.forEach(n=>{this.control.push(this.formBuilder.group({label:[n.label],value:[n.value],checked:[!1]}))})}disableInput(){(this.mode===this.formsModeEnum.PREVIEW||this.mode===this.formsModeEnum.VIEW)&&this.control&&this.control.disable()}onAddOption(){this.options.push(this.formBuilder.group({label:["",s.k0.required],value:["",s.k0.required]}))}onOptionDelete(n){this.options.removeAt(n)}onCheckboxChange(n,o){this.control.at(o).get("checked")?.setValue(n.target.checked),this.control.markAsTouched()}static{this.\u0275fac=function(o){return new(o||t)(e.rXU(s.ok))}}static{this.\u0275cmp=e.VBU({type:t,selectors:[["app-checkbox"]],inputs:{mode:"mode",field:"field",editIndex:"editIndex",control:"control"},outputs:{onDelete:"onDelete"},features:[e.OA$],decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["nonEdit",""],[1,"edit",3,"formGroup"],[1,"header","flex","flexRow","justifyContentBetween"],[1,"deleteCt"],["title","Delete","type","button",1,"btn","delete",3,"click"],[1,"bi","bi-trash"],[1,"flex","flexRow","flexWrap"],[1,"control"],["placeholder","Enter Label","formControlName","label",1,"form-control"],["class","error",4,"ngIf"],[1,"control","ml-10"],["formControlName","isRequired",1,"form-control"],["value","","selected",""],[3,"value",4,"ngFor","ngForOf"],[1,"full-control","mt-10"],[1,"flex","flexRow","justifyContentBetween","alignItemCenter","optHeading"],["type","button",1,"btn","btn-outline-primary",3,"click"],[1,"bi","bi-plus"],[1,"options"],["formArrayName","options"],[4,"ngFor","ngForOf"],[1,"error"],[4,"ngIf"],[3,"value"],[1,"flex","flexRow",3,"formGroupName"],[1,"controlOption"],[1,"controlOption","ml-10"],["placeholder","Enter Value","formControlName","value",1,"form-control"],[1,"deleteOptionCt","ml-10"],[2,"visibility","hidden"],[1,"nonEdit"],[1,""],[1,"flex","flexRow","alignItemCenter"],["type","checkbox",3,"checked","disabled","change"],[1,"ml-10"]],template:function(o,i){if(1&o&&(e.DNE(0,re,30,5,"ng-container",0),e.DNE(1,ae,8,4,"ng-template",null,1,e.C5r)),2&o){const r=e.sdS(2);e.Y8G("ngIf",i.mode===i.formsModeEnum.EDIT)("ngIfElse",r)}},dependencies:[c.Sq,c.bT,s.xH,s.y7,s.me,s.wz,s.BC,s.cb,s.j4,s.JD,s.$R,s.v8],styles:[".flex[_ngcontent-%COMP%]{display:flex}.flexRow[_ngcontent-%COMP%]{flex-direction:row}.flexColumn[_ngcontent-%COMP%]{flex-direction:column}.alignItemCenter[_ngcontent-%COMP%]{align-items:center}.justifyContentCenter[_ngcontent-%COMP%]{justify-content:center}.alignSelfCenter[_ngcontent-%COMP%]{align-self:center}.justifyContentBetween[_ngcontent-%COMP%]{justify-content:space-between}.flexWrap[_ngcontent-%COMP%]{flex-wrap:wrap}.edit[_ngcontent-%COMP%]{padding:10px;border:1px dotted #dedede;border-radius:4;margin-bottom:10px}.edit[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{padding-bottom:10px;border-bottom:1px solid #dedede}.edit[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:14px;font-weight:600;margin-bottom:3px}.edit[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{font-size:14px}.edit[_ngcontent-%COMP%]   .control[_ngcontent-%COMP%]{flex:0 1 48%}.edit[_ngcontent-%COMP%]   .full-control[_ngcontent-%COMP%]{flex:0 1 100%}.edit[_ngcontent-%COMP%]   .optHeading[_ngcontent-%COMP%]{padding-bottom:5px;border-bottom:1px solid #dedede}.edit[_ngcontent-%COMP%]   .controlOption[_ngcontent-%COMP%]{flex:0 1 35%}.edit[_ngcontent-%COMP%]   .deleteOptionCt[_ngcontent-%COMP%]{flex:0 1 20%}.edit[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{padding:5px 8px;border-radius:4px;border-width:1px;border-style:solid;transition:all .1s linear;font-size:14px;font-family:Inter,serif}.edit[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{transition:all .1s linear}.edit[_ngcontent-%COMP%]   .delete[_ngcontent-%COMP%]{border-color:#ff1a1a}.edit[_ngcontent-%COMP%]   .delete[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#ff1a1a}.edit[_ngcontent-%COMP%]   .delete[_ngcontent-%COMP%]:hover{background-color:#ff1a1a}.edit[_ngcontent-%COMP%]   .delete[_ngcontent-%COMP%]:hover   i[_ngcontent-%COMP%]{color:#fff}.nonEdit[_ngcontent-%COMP%]{width:100%;margin-bottom:10px}.nonEdit[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:14px;font-weight:600;margin-bottom:3px}.nonEdit[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{font-size:14px}.nonEdit[_ngcontent-%COMP%]   .options[_ngcontent-%COMP%]{padding-left:15px}.error[_ngcontent-%COMP%]{font-family:Inter,serif;font-size:12px;color:#ff1a1a;margin:4px 0}"]})}}return t})();function fe(t,l){if(1&t&&(e.qex(0),e.nrm(1,"app-text-input",4),e.bVm()),2&t){const n=e.XpG(),o=n.$implicit,i=n.index,r=e.XpG();e.R7$(1),e.Y8G("mode",r.mode)("field",o)("editIndex",i)("control",r.formPreview.get(o.key))}}function me(t,l){if(1&t&&(e.qex(0),e.nrm(1,"app-radio",4),e.bVm()),2&t){const n=e.XpG(),o=n.$implicit,i=n.index,r=e.XpG();e.R7$(1),e.Y8G("mode",r.mode)("field",o)("editIndex",i)("control",r.formPreview.get(o.key))}}function _e(t,l){if(1&t&&(e.qex(0),e.nrm(1,"app-checkbox",4),e.bVm()),2&t){const n=e.XpG(),o=n.$implicit,i=n.index,r=e.XpG();e.R7$(1),e.Y8G("mode",r.mode)("field",o)("editIndex",i)("control",r.formPreview.get(o.key))}}function pe(t,l){if(1&t&&(e.qex(0)(1,2),e.DNE(2,fe,2,4,"ng-container",3),e.DNE(3,me,2,4,"ng-container",3),e.DNE(4,_e,2,4,"ng-container",3),e.bVm()()),2&t){const n=l.$implicit,o=e.XpG();e.R7$(1),e.Y8G("ngSwitch",n.type),e.R7$(1),e.Y8G("ngSwitchCase",o.fieldTypeEnum.TEXT),e.R7$(1),e.Y8G("ngSwitchCase",o.fieldTypeEnum.RADIO),e.R7$(1),e.Y8G("ngSwitchCase",o.fieldTypeEnum.CHECKBOX)}}let ue=(()=>{class t{constructor(n){this.formBuilder=n,this.formsModeEnum=d.GJ,this.fieldTypeEnum=d.D4,this.formfieldRequiredEnum=d.Jq}ngOnInit(){}ngOnChanges(n){this.initForm()}initForm(){this.formPreview=this.formBuilder.group({});let n=this.form.fields;for(let o=0;o<n?.length;o++)this.formPreview.addControl(n[o].key,n[o].type===d.D4.CHECKBOX?new s.Yp([],n[o].isRequired===this.formfieldRequiredEnum.YES?[s.k0.required]:[]):new s.MJ("",n[o].isRequired===this.formfieldRequiredEnum.YES?[s.k0.required]:[]))}static{this.\u0275fac=function(o){return new(o||t)(e.rXU(s.ok))}}static{this.\u0275cmp=e.VBU({type:t,selectors:[["app-preview"]],inputs:{form:"form",mode:"mode"},features:[e.OA$],decls:2,vars:2,consts:[[1,"container",3,"formGroup"],[4,"ngFor","ngForOf"],[3,"ngSwitch"],[4,"ngSwitchCase"],[3,"mode","field","editIndex","control"]],template:function(o,i){1&o&&(e.j41(0,"div",0),e.DNE(1,pe,5,4,"ng-container",1),e.k0s()),2&o&&(e.Y8G("formGroup",i.formPreview),e.R7$(1),e.Y8G("ngForOf",i.form.fields))},dependencies:[c.Sq,c.ux,c.e1,s.cb,s.j4,u,g,C]})}}return t})();function ge(t,l){1&t&&(e.j41(0,"div"),e.EFF(1," This field is required. "),e.k0s())}function Ce(t,l){if(1&t&&(e.j41(0,"div",23),e.DNE(1,ge,2,0,"div",24),e.k0s()),2&t){const n=e.XpG();e.R7$(1),e.Y8G("ngIf",null==n.form.controls.name.errors?null:n.form.controls.name.errors.required)}}function he(t,l){if(1&t&&(e.j41(0,"option",25),e.EFF(1),e.k0s()),2&t){const n=l.$implicit;e.FS9("value",n.value),e.R7$(1),e.SpI(" ",n.label," ")}}function xe(t,l){1&t&&(e.j41(0,"div"),e.EFF(1," This field is required. "),e.k0s())}function be(t,l){if(1&t&&(e.j41(0,"div",23),e.DNE(1,xe,2,0,"div",24),e.k0s()),2&t){const n=e.XpG();e.R7$(1),e.Y8G("ngIf",null==n.addFieldForm.controls.type.errors?null:n.addFieldForm.controls.type.errors.required)}}function ve(t,l){if(1&t){const n=e.RV6();e.qex(0),e.j41(1,"app-text-input",29),e.bIt("onDelete",function(i){e.eBV(n);const r=e.XpG(2);return e.Njj(r.onDeleteField(i))}),e.k0s(),e.bVm()}if(2&t){const n=e.XpG(),o=n.$implicit,i=n.index,r=e.XpG();e.R7$(1),e.Y8G("mode",r.formsModeEnum.EDIT)("field",o)("editIndex",i)}}function Oe(t,l){if(1&t){const n=e.RV6();e.qex(0),e.j41(1,"app-radio",29),e.bIt("onDelete",function(i){e.eBV(n);const r=e.XpG(2);return e.Njj(r.onDeleteField(i))}),e.k0s(),e.bVm()}if(2&t){const n=e.XpG(),o=n.$implicit,i=n.index,r=e.XpG();e.R7$(1),e.Y8G("mode",r.formsModeEnum.EDIT)("field",o)("editIndex",i)}}function Fe(t,l){if(1&t){const n=e.RV6();e.qex(0),e.j41(1,"app-checkbox",29),e.bIt("onDelete",function(i){e.eBV(n);const r=e.XpG(2);return e.Njj(r.onDeleteField(i))}),e.k0s(),e.bVm()}if(2&t){const n=e.XpG(),o=n.$implicit,i=n.index,r=e.XpG();e.R7$(1),e.Y8G("mode",r.formsModeEnum.EDIT)("field",o)("editIndex",i)}}function Ee(t,l){if(1&t&&(e.qex(0)(1,26)(2,27),e.DNE(3,ve,2,3,"ng-container",28),e.DNE(4,Oe,2,3,"ng-container",28),e.DNE(5,Fe,2,3,"ng-container",28),e.bVm()()()),2&t){const n=l.$implicit,o=l.index,i=e.XpG();let r;e.R7$(1),e.Y8G("formGroupName",o),e.R7$(1),e.Y8G("ngSwitch",null==(r=n.get("type"))?null:r.value),e.R7$(1),e.Y8G("ngSwitchCase",i.fieldTypeEnum.TEXT),e.R7$(1),e.Y8G("ngSwitchCase",i.fieldTypeEnum.RADIO),e.R7$(1),e.Y8G("ngSwitchCase",i.fieldTypeEnum.CHECKBOX)}}let Me=(()=>{class t{get fields(){return this.form.get("fields")}constructor(n,o,i,r){this.formBuilder=n,this.storageService=o,this.router=i,this.activateRoute=r,this.formName="",this.formFields=O,this.fieldTypeEnum=d.D4,this.formsModeEnum=d.GJ,this.alive=!0}ngOnInit(){this.activateRoute.params.pipe((0,x.v)(n=>this.alive)).subscribe(n=>{this.formId=Number(n.id??0)}),this.initForm(),this.initAddFieldForm(),this.getFormDetails()}initForm(){this.form=this.formBuilder.group({name:["",s.k0.required],fields:this.formBuilder.array([])})}initAddFieldForm(){this.addFieldForm=this.formBuilder.group({type:["",s.k0.required]})}onNewField(){return this.formBuilder.group({type:[this.addFieldForm.controls.type.value??"",s.k0.required],isRequired:["",s.k0.required],label:["",s.k0.required],placeholder:[""],options:this.formBuilder.array([]),key:[`field_${this.fields.length+1}`,s.k0.required]})}onAddField(){this.fields.push(this.onNewField()),this.addFieldForm.reset(),this.initAddFieldForm()}onDeleteField(n){this.fields.removeAt(n)}getFormDetails(){if(this.formId){const n=this.storageService.getData(d.uE.FORMS);this.formDetails=n.find(o=>o.id===this.formId)??null,this.patchForm()}}patchForm(){if(this.formId&&this.formDetails){const{name:n,fields:o}=this.formDetails;this.form.patchValue({name:n});for(let i=0;i<o.length;i++)if(this.fields.push(this.onNewField()),this.fields.at(this.fields.length-1).patchValue(o[i]),o[i].options.length){const f=this.fields.at(this.fields.length-1).get("options");for(let _=0;_<o[i].options.length;_++)f.push(this.formBuilder.group({label:["",s.k0.required],value:["",s.k0.required]})),f.at(f.length-1).patchValue(o[i].options[_])}}}onSubmit(){if(this.form.invalid)return;let n=this.storageService.getData(d.uE.FORMS)||[];n=n.length?[...n,{...this.form.value,id:Math.floor(1e3*Math.random())}]:[{...this.form.value,id:Math.floor(1e3*Math.random())}],this.storageService.setData(d.uE.FORMS,JSON.stringify(n)),this.router.navigate(["forms"])}onUpdate(){if(this.form.invalid)return;let n=this.storageService.getData(d.uE.FORMS)||[];const o=n.findIndex(i=>i.id===this.formId);n.splice(o,1),n=n.length?[...n,{...this.form.value,id:this.formId}]:[{...this.form.value,id:this.formId}],this.storageService.setData(d.uE.FORMS,JSON.stringify(n)),this.router.navigate(["forms"])}ngOnDestroy(){this.alive=!1}static{this.\u0275fac=function(o){return new(o||t)(e.rXU(s.ok),e.rXU(b.n),e.rXU(m.Ix),e.rXU(m.nX))}}static{this.\u0275cmp=e.VBU({type:t,selectors:[["app-form-design"]],decls:36,vars:13,consts:[[1,"formDesign"],[1,"header"],[1,"formDetails","flex","flexRow",3,"formGroup"],["type","text","placeholder","Enter Form Name","formControlName","name",1,"form-control"],["class","error",4,"ngIf"],[1,"ml-10"],["type","submit","title","Submit",1,"btn","btn-primary",3,"disabled","click"],[1,"designCt","flex","flexRow"],[1,"design"],[1,"heading"],[1,"flex","flexRow",3,"formGroup"],[1,"control"],["formControlName","type",1,"form-control"],["value","","selected",""],[3,"value",4,"ngFor","ngForOf"],[1,"btnControl"],[2,"visibility","hidden"],["title","Add","type","submit",1,"btn","btn-primary",3,"disabled","click"],[1,"mt-10",3,"formGroup"],["formArrayName","fields"],[4,"ngFor","ngForOf"],[1,"preview"],[3,"mode","form"],[1,"error"],[4,"ngIf"],[3,"value"],[3,"formGroupName"],[3,"ngSwitch"],[4,"ngSwitchCase"],[3,"mode","field","editIndex","onDelete"]],template:function(o,i){1&o&&(e.j41(0,"div",0)(1,"div",1)(2,"h4"),e.EFF(3),e.k0s()(),e.j41(4,"div",2)(5,"div"),e.nrm(6,"input",3),e.DNE(7,Ce,2,1,"div",4),e.k0s(),e.j41(8,"div",5)(9,"button",6),e.bIt("click",function(){return i.formId?i.onUpdate():i.onSubmit()}),e.EFF(10),e.k0s()()(),e.j41(11,"div",7)(12,"div",8)(13,"p",9),e.EFF(14," Please select from below which fields you need in the form: "),e.k0s(),e.j41(15,"div",10)(16,"div",11)(17,"label"),e.EFF(18,"Field Type"),e.k0s(),e.j41(19,"select",12)(20,"option",13),e.EFF(21,"Select Field Type"),e.k0s(),e.DNE(22,he,2,2,"option",14),e.k0s(),e.DNE(23,be,2,1,"div",4),e.k0s(),e.j41(24,"div",15)(25,"label",16),e.EFF(26,"Add More"),e.k0s(),e.j41(27,"button",17),e.bIt("click",function(){return i.onAddField()}),e.EFF(28," Add "),e.k0s()()(),e.j41(29,"div",18),e.qex(30,19),e.DNE(31,Ee,6,5,"ng-container",20),e.bVm(),e.k0s()(),e.j41(32,"div",21)(33,"h4"),e.EFF(34,"Preview Form"),e.k0s(),e.nrm(35,"app-preview",22),e.k0s()()()),2&o&&(e.R7$(3),e.SpI("",i.formId?"Update":"Create"," Form"),e.R7$(1),e.Y8G("formGroup",i.form),e.R7$(3),e.Y8G("ngIf",i.form.controls.name.invalid&&(i.form.controls.name.dirty||i.form.controls.name.touched)),e.R7$(2),e.Y8G("disabled",i.form.invalid),e.R7$(1),e.SpI(" ",i.formId?"Update":"Submit"," "),e.R7$(5),e.Y8G("formGroup",i.addFieldForm),e.R7$(7),e.Y8G("ngForOf",i.formFields),e.R7$(1),e.Y8G("ngIf",i.addFieldForm.controls.type.invalid&&(i.addFieldForm.controls.type.dirty||i.addFieldForm.controls.type.touched)),e.R7$(4),e.Y8G("disabled",i.addFieldForm.invalid),e.R7$(2),e.Y8G("formGroup",i.form),e.R7$(2),e.Y8G("ngForOf",i.fields.controls),e.R7$(4),e.Y8G("mode",i.formsModeEnum.PREVIEW)("form",i.form.value))},dependencies:[c.Sq,c.bT,c.ux,c.e1,s.xH,s.y7,s.me,s.wz,s.BC,s.cb,s.j4,s.JD,s.$R,s.v8,u,g,C,ue],styles:[".flex[_ngcontent-%COMP%]{display:flex}.flexRow[_ngcontent-%COMP%]{flex-direction:row}.flexColumn[_ngcontent-%COMP%]{flex-direction:column}.alignItemCenter[_ngcontent-%COMP%]{align-items:center}.justifyContentCenter[_ngcontent-%COMP%]{justify-content:center}.alignSelfCenter[_ngcontent-%COMP%]{align-self:center}.justifyContentBetween[_ngcontent-%COMP%]{justify-content:space-between}.flexWrap[_ngcontent-%COMP%]{flex-wrap:wrap}.formDesign[_ngcontent-%COMP%]{padding:0 10px}.formDesign[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{margin:10px 0;padding-bottom:10px;border-bottom:1px solid #dedede}.formDesign[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-family:Inter,serif}.formDesign[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%], .formDesign[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{font-size:14px}.formDesign[_ngcontent-%COMP%]   .error[_ngcontent-%COMP%]{font-family:Inter,serif;font-size:12px;color:#ff1a1a;margin:4px 0}.formDesign[_ngcontent-%COMP%]   .designCt[_ngcontent-%COMP%]{margin-top:20px}.formDesign[_ngcontent-%COMP%]   .designCt[_ngcontent-%COMP%]   .preview[_ngcontent-%COMP%]{flex-basis:50%;margin-top:0;border-left:1px solid #dedede;margin-left:10px}.formDesign[_ngcontent-%COMP%]   .designCt[_ngcontent-%COMP%]   .preview[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-family:Inter,serif;padding:0 10px}.formDesign[_ngcontent-%COMP%]   .designCt[_ngcontent-%COMP%]   .design[_ngcontent-%COMP%]{flex-basis:50%}.formDesign[_ngcontent-%COMP%]   .designCt[_ngcontent-%COMP%]   .design[_ngcontent-%COMP%]   .control[_ngcontent-%COMP%]{flex:0 1 40%}.formDesign[_ngcontent-%COMP%]   .designCt[_ngcontent-%COMP%]   .design[_ngcontent-%COMP%]   .btnControl[_ngcontent-%COMP%]{flex:0 1 20%;text-align:center}.formDesign[_ngcontent-%COMP%]   .designCt[_ngcontent-%COMP%]   .design[_ngcontent-%COMP%]   .heading[_ngcontent-%COMP%]{font-family:Inter,serif;font-size:16px;margin:5px 0}.formDesign[_ngcontent-%COMP%]   .designCt[_ngcontent-%COMP%]   .design[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:14px;font-weight:600;margin-bottom:3px}.formDesign[_ngcontent-%COMP%]   .designCt[_ngcontent-%COMP%]   .design[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%], .formDesign[_ngcontent-%COMP%]   .designCt[_ngcontent-%COMP%]   .design[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{font-size:14px}"]})}}return t})();var Re=a(3887);function Pe(t,l){if(1&t){const n=e.RV6();e.j41(0,"button",4),e.bIt("click",function(){e.eBV(n);const i=e.XpG();return e.Njj(i.onSubmit())}),e.EFF(1," Submit "),e.k0s()}if(2&t){const n=e.XpG();e.Y8G("disabled",n.webForm.invalid)}}function ke(t,l){if(1&t&&(e.qex(0),e.nrm(1,"app-text-input",7),e.bVm()),2&t){const n=e.XpG(),o=n.$implicit,i=n.index,r=e.XpG();e.R7$(1),e.Y8G("mode",r.responseId?r.formsModeEnum.VIEW:r.formsModeEnum.SUBMIT)("field",o)("editIndex",i)("control",r.webForm.get(o.key))}}function Ie(t,l){if(1&t&&(e.qex(0),e.nrm(1,"app-radio",7),e.bVm()),2&t){const n=e.XpG(),o=n.$implicit,i=n.index,r=e.XpG();e.R7$(1),e.Y8G("mode",r.responseId?r.formsModeEnum.VIEW:r.formsModeEnum.SUBMIT)("field",o)("editIndex",i)("control",r.webForm.get(o.key))}}function De(t,l){if(1&t&&(e.qex(0),e.nrm(1,"app-checkbox",7),e.bVm()),2&t){const n=e.XpG(),o=n.$implicit,i=n.index,r=e.XpG();e.R7$(1),e.Y8G("mode",r.responseId?r.formsModeEnum.VIEW:r.formsModeEnum.SUBMIT)("field",o)("editIndex",i)("control",r.webForm.get(o.key))}}function Ge(t,l){if(1&t&&(e.qex(0)(1,5),e.DNE(2,ke,2,4,"ng-container",6),e.DNE(3,Ie,2,4,"ng-container",6),e.DNE(4,De,2,4,"ng-container",6),e.bVm()()),2&t){const n=l.$implicit,o=e.XpG();e.R7$(1),e.Y8G("ngSwitch",n.type),e.R7$(1),e.Y8G("ngSwitchCase",o.fieldTypeEnum.TEXT),e.R7$(1),e.Y8G("ngSwitchCase",o.fieldTypeEnum.RADIO),e.R7$(1),e.Y8G("ngSwitchCase",o.fieldTypeEnum.CHECKBOX)}}let v=(()=>{class t{constructor(n,o,i,r){this.formBuilder=n,this.storageService=o,this.router=i,this.activateRoute=r,this.formsModeEnum=d.GJ,this.fieldTypeEnum=d.D4,this.formfieldRequiredEnum=d.Jq,this.alive=!0}ngOnInit(){this.activateRoute.params.pipe((0,x.v)(n=>this.alive)).subscribe(n=>{this.responseId=Number(n.responseId??0),this.formId=Number(n.id??0)}),this.getFormDetails(),this.getResponseDetails(),this.initForm()}getFormDetails(){if(this.formId){const n=this.storageService.getData(d.uE.FORMS);this.formDetails=n.find(o=>o.id===this.formId)??null}}getResponseDetails(){if(this.formId&&this.responseId){const n=this.storageService.getData(d.uE.RESPONSES);this.responseDetails=n.find(o=>o.formId===this.formId&&o.id===this.responseId)??null}}initForm(){this.webForm=this.formBuilder.group({});let n=this.formDetails.fields;for(let o=0;o<n?.length;o++)if(n[o].type===d.D4.CHECKBOX){if(this.webForm.addControl(n[o].key,new s.Yp([],n[o].isRequired===this.formfieldRequiredEnum.YES?[this.minSelectedCheckboxes(1)]:[])),this.responseDetails&&this.responseDetails.formValues[n[o].key]?.length){const i=this.webForm.get(n[o].key);n[o].options.forEach(r=>{i.push(this.formBuilder.group({label:[r.label],value:[r.value],checked:[this.responseDetails.formValues[n[o].key].indexOf(r.value)>-1]}))})}}else this.webForm.addControl(n[o].key,new s.MJ(this.responseDetails?this.responseDetails.formValues[n[o].key]:"",n[o].isRequired===this.formfieldRequiredEnum.YES?[s.k0.required]:[]))}minSelectedCheckboxes(n){return o=>o instanceof s.Yp?o.controls.filter(r=>r.value.checked).length>=n?null:{required:!0}:null}onSubmit(){if(this.webForm.invalid)return;const n=JSON.parse(JSON.stringify(this.webForm.value));for(let i in n)Array.isArray(n[i])&&(n[i]=n[i].filter(r=>r.checked).map(r=>r.value));let o=this.storageService.getData(d.uE.RESPONSES)||[];o=o.length?[...o,{formValues:{...n},formId:this.formId,id:Math.floor(1e3*Math.random()),submittedAt:(new Date).toISOString()}]:[{formValues:{...n},formId:this.formId,id:Math.floor(1e3*Math.random()),submittedAt:(new Date).toISOString()}],this.storageService.setData(d.uE.RESPONSES,JSON.stringify(o)),this.router.navigate(["forms"])}ngOnDestroy(){this.alive=!1}static{this.\u0275fac=function(o){return new(o||t)(e.rXU(s.ok),e.rXU(b.n),e.rXU(m.Ix),e.rXU(m.nX))}}static{this.\u0275cmp=e.VBU({type:t,selectors:[["app-form"]],decls:6,vars:5,consts:[[1,"container",3,"formGroup"],[1,"header","flex","flexRow","justifyContentBetween"],["title","Submit","type","submit","class","btn btn-primary",3,"disabled","click",4,"ngIf"],[4,"ngFor","ngForOf"],["title","Submit","type","submit",1,"btn","btn-primary",3,"disabled","click"],[3,"ngSwitch"],[4,"ngSwitchCase"],[3,"mode","field","editIndex","control"]],template:function(o,i){1&o&&(e.j41(0,"div",0)(1,"div",1)(2,"h4"),e.EFF(3),e.k0s(),e.DNE(4,Pe,2,1,"button",2),e.k0s(),e.DNE(5,Ge,5,4,"ng-container",3),e.k0s()),2&o&&(e.Y8G("formGroup",i.webForm),e.R7$(3),e.Lme("",i.responseId?"Response":"Fill"," ",i.formDetails.name,""),e.R7$(1),e.Y8G("ngIf",!i.responseId),e.R7$(1),e.Y8G("ngForOf",i.formDetails.fields))},dependencies:[c.Sq,c.bT,c.ux,c.e1,s.cb,s.j4,u,g,C],styles:[".flex[_ngcontent-%COMP%]{display:flex}.flexRow[_ngcontent-%COMP%]{flex-direction:row}.flexColumn[_ngcontent-%COMP%]{flex-direction:column}.alignItemCenter[_ngcontent-%COMP%]{align-items:center}.justifyContentCenter[_ngcontent-%COMP%]{justify-content:center}.alignSelfCenter[_ngcontent-%COMP%]{align-self:center}.justifyContentBetween[_ngcontent-%COMP%]{justify-content:space-between}.flexWrap[_ngcontent-%COMP%]{flex-wrap:wrap}.header[_ngcontent-%COMP%]{margin:10px 0;padding-bottom:10px;border-bottom:1px solid #dedede}.header[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-family:Inter,serif}"]})}}return t})();const ye=[{path:"",component:Me},{path:"form/:id",component:v},{path:"form/view/:id/:responseId",component:v}];let je=(()=>{class t{static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275mod=e.$C({type:t})}static{this.\u0275inj=e.G2t({imports:[c.MD,m.iI.forChild(ye),s.YN,s.X1,Re.G]})}}return t})()}}]);